<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Extended Satellites Tracker — SpaceX, NASA & ESA</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  font-family: 'Orbitron', sans-serif;
  background: #000;
  color: #fff;
  background-image: url('./3d-rendering-planet-earth.jpg');
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
}

.container-custom {
  background: rgba(0,0,0,0.6);
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 0 30px rgba(0,255,255,0.2);
  margin-bottom: 20px;
}

#map {
  height: 60vh;
  border-radius: 12px;
  border: 1px solid #0ff;
}

h2 {
  text-align: center;
  color: #0ff;
  text-shadow: 0 0 10px #0ff;
}

.btn-back {
  display: block;
  margin: 20px auto;
  padding: 10px 25px;
  border: 1px solid #0ff;
  border-radius: 10px;
  background: rgba(0,0,0,0.7);
  color: #0ff;
}

.btn-back:hover {
  background: #0ff;
  color: #000;
  box-shadow: 0 0 15px #0ff;
}

@media (max-width: 768px) {
  .container-custom { padding: 15px; }
  #map { height: 50vh; }
  h2 { font-size: 1.8em; }
}
</style>
</head>
<body>

<audio id="pageSound" src="./beep3.mp3"></audio>
<audio id="clickSound" src="./beep2.mp3"></audio>

<div class="container mt-4">
  <h1 class="text-center mb-4" style="color:#0ff;text-shadow:0 0 20px #0ff;">More Satellites — SpaceX, NASA & ESA</h1>
  
  <div class="row">
    <div class="col-md-6 mb-3">
      <div class="container-custom">
        <h2 class="text-info">Starlink-1</h2>
        <p>SpaceX internet satellite network.</p>
        <div id="starlink1-info">Loading data...</div>
      </div>
    </div>

    <div class="col-md-6 mb-3">
      <div class="container-custom">
        <h2 class="text-info">Starlink-2</h2>
        <p>Expanding SpaceX low-orbit constellation.</p>
        <div id="starlink2-info">Loading data...</div>
      </div>
    </div>

    <div class="col-md-6 mb-3">
      <div class="container-custom">
        <h2 class="text-warning">Galileo-FOC</h2>
        <p>European GPS navigation satellite.</p>
        <div id="galileo-info">Loading data...</div>
      </div>
    </div>

    <div class="col-md-6 mb-3">
      <div class="container-custom">
        <h2 class="text-success">Landsat-9</h2>
        <p>NASA Earth observation for land mapping.</p>
        <div id="landsat-info">Loading data...</div>
      </div>
    </div>

    <div class="col-md-6 mb-3">
      <div class="container-custom">
        <h2 class="text-danger">Terra</h2>
        <p>Earth science mission observing climate changes.</p>
        <div id="terra-info">Loading data...</div>
      </div>
    </div>

    <div class="col-md-6 mb-3">
      <div class="container-custom">
        <h2 class="text-primary">GOES-16</h2>
        <p>Weather and environmental monitoring satellite.</p>
        <div id="goes-info">Loading data...</div>
      </div>
    </div>
  </div>

  <div class="container container-custom" id="map"></div>

  <button onclick="window.location.href='index.html'" class="btn-back">⬅ Back to Main Tracker</button>
</div>

<script src="https://unpkg.com/satellite.js/dist/satellite.min.js"></script>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
// 🎵 Audio effects
window.addEventListener('load', () => document.getElementById('pageSound').play());
document.body.addEventListener('click', () => {
  const clickSound = document.getElementById('clickSound');
  clickSound.currentTime = 0;
  clickSound.play();
});

// 🌍 Initialize map
const map = L.map('map').setView([0, 0], 2);
L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
  attribution: 'Tiles &copy; Esri, NASA, USGS',
  maxZoom: 19
}).addTo(map);

// 🔹 Helper to get coordinates
function getLatLon(satrec, date) {
  const pv = satellite.propagate(satrec, date);
  if (!pv.position) return null;
  const gmst = satellite.gstime(date);
  const pos = satellite.eciToGeodetic(pv.position, gmst);
  return {
    lat: satellite.radiansToDegrees(pos.latitude),
    lon: satellite.radiansToDegrees(pos.longitude)
  };
}

// 🔸 Satellites list
const satellites = [
  { name: 'Starlink-1', infoBox: 'starlink1-info', color: '#0ff', tle: [
    "1 74001U 22001A   24300.00000000  .00000010  00000+0  00000+0 0  9991",
    "2 74001  53.0000 100.0000 0001000 120.0000 250.0000 15.06000000    01"
  ], speed: 7.55 },

  { name: 'Starlink-2', infoBox: 'starlink2-info', color: '#00ffff', tle: [
    "1 74002U 22002A   24300.00000000  .00000010  00000+0  00000+0 0  9992",
    "2 74002  53.0000 120.0000 0001000 110.0000 260.0000 15.06000000    02"
  ], speed: 7.55 },

  { name: 'Galileo-FOC', infoBox: 'galileo-info', color: '#ffa500', tle: [
    "1 41175U 15079A   24300.00000000  .00000012  00000+0  00000+0 0  9993",
    "2 41175  56.0000  40.0000 0001000 130.0000 260.0000 14.50000000    03"
  ], speed: 7.45 },

  { name: 'Landsat-9', infoBox: 'landsat-info', color: '#0f0', tle: [
    "1 49260U 21088A   24300.00000000  .00000015  00000+0  00000+0 0  9994",
    "2 49260  98.2300  45.0000 0001200 120.0000 250.0000 14.57000000    04"
  ], speed: 7.5 },

  { name: 'Terra', infoBox: 'terra-info', color: '#f00', tle: [
    "1 25994U 99068A   24300.00000000  .00000018  00000+0  00000+0 0  9995",
    "2 25994  98.2000  30.0000 0001100 125.0000 255.0000 14.57000000    05"
  ], speed: 7.48 },

  { name: 'GOES-16', infoBox: 'goes-info', color: '#ff0', tle: [
    "1 41866U 16071A   24300.00000000  .00000001  00000+0  00000+0 0  9996",
    "2 41866   0.0000  90.0000 0001000 120.0000 250.0000  1.00270000    06"
  ], speed: 3.07 }
];

// 🔄 Live update loop
satellites.forEach(sat => {
  const satrec = satellite.twoline2satrec(sat.tle[0], sat.tle[1]);
  let marker, trail;
  const info = document.getElementById(sat.infoBox);

  function update() {
    const now = new Date();
    const pos = getLatLon(satrec, now);
    if (!pos) return;

    if (marker) marker.setLatLng([pos.lat, pos.lon]);
    else marker = L.circleMarker([pos.lat, pos.lon], {
      radius: 7, color: sat.color, fillColor: sat.color, fillOpacity: 0.9
    }).addTo(map).bindPopup(sat.name);

    const points = [];
    for (let t = 0; t <= 3600; t += 10) {
      const future = getLatLon(satrec, new Date(now.getTime() + t * 1000));
      if (future) points.push([future.lat, future.lon]);
    }
    if (trail) map.removeLayer(trail);
    trail = L.polyline(points, { color: sat.color, weight: 2, opacity: 0.8 }).addTo(map);

    info.innerHTML = `
      Latitude: ${pos.lat.toFixed(2)}<br>
      Longitude: ${pos.lon.toFixed(2)}<br>
      Speed: ${sat.speed} km/s (~${(sat.speed*3600).toLocaleString()} km/h)<br>
      Time: ${now.toLocaleTimeString()}
    `;

    requestAnimationFrame(update);
  }
  update();
});
</script>

</body>
</html>

