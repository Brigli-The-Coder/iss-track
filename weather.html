<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Live Weather & Satellite â€” ShkodÃ«r</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">

<style>
body {
  font-family: 'Orbitron', sans-serif;
  background: radial-gradient(circle at center, #000010 0%, #000 100%);
  color: #0ff;
  text-align: center;
  overflow-x: hidden;
}
.container-custom {
  background: rgba(0,0,0,0.6);
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 0 30px rgba(0,255,255,0.2);
  margin: 20px auto;
}
h2 { color: #0ff; text-shadow: 0 0 10px #0ff; }
#forecast {
  display: flex;
  overflow-x: auto;
  gap: 10px;
  padding: 10px;
}
.forecast-item {
  background: rgba(0,255,255,0.1);
  border: 1px solid #0ff;
  border-radius: 10px;
  padding: 10px;
  min-width: 120px;
}
iframe {
  width: 100%;
  height: 60vh;
  border: 1px solid #0ff;
  border-radius: 12px;
  margin-top: 20px;
}
</style>
</head>
<body>

<div class="container container-custom">
  <h2>ğŸŒ¦ï¸ Live Weather Data</h2>
  <h4>ShkodÃ«r, Albania</h4>
  <div id="weather"></div>
  <hr>
  <h3>Forecast</h3>
  <div id="forecast"></div>
</div>

<div class="container container-custom">
  <h2>ğŸ›°ï¸ Live Satellite (Zoom Earth)</h2>
  <iframe id="zoomEarth" src="https://zoom.earth/map/satellite/#view=42.068,19.512,6z"></iframe>
</div>

<audio id="beep" src="./beep2.mp3" preload="auto"></audio>

<script>
const API_KEY = "3353cd4fff2878fccffc5f6f9a4ffd8a";
const weatherBox = document.getElementById('weather');
const forecastBox = document.getElementById('forecast');
const beep = document.getElementById('beep');

// Beep on any interaction (click or scroll)
document.addEventListener('click', () => { beep.currentTime = 0; beep.play(); });
document.addEventListener('scroll', () => { beep.currentTime = 0; beep.play(); });

// Fetch current weather
fetch(`https://api.openweathermap.org/data/2.5/weather?q=Shkoder,AL&appid=${API_KEY}&units=metric`)
  .then(r => r.json())
  .then(data => {
    if (data.cod !== 200) {
      weatherBox.innerHTML = `<p>City not found âŒ</p>`;
      return;
    }
    weatherBox.innerHTML = `
      <p><b>Temperature:</b> ${data.main.temp}Â°C</p>
      <p><b>Feels Like:</b> ${data.main.feels_like}Â°C</p>
      <p><b>Weather:</b> ${data.weather[0].description}</p>
      <p><b>Humidity:</b> ${data.main.humidity}%</p>
      <p><b>Wind Speed:</b> ${data.wind.speed} m/s</p>
    `;
  });

// Fetch 5-day forecast
fetch(`https://api.openweathermap.org/data/2.5/forecast?q=Shkoder,AL&appid=${API_KEY}&units=metric`)
  .then(r => r.json())
  .then(data => {
    if (data.cod !== "200") {
      forecastBox.innerHTML = `<p>Forecast not available âŒ</p>`;
      return;
    }
    forecastBox.innerHTML = data.list.slice(0, 10).map(item => `
      <div class="forecast-item">
        <p><b>${new Date(item.dt_txt).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</b></p>
        <p>${item.main.temp}Â°C</p>
        <p>${item.weather[0].main}</p>
      </div>
    `).join('');
  });
</script>
</body>
</html>
