<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Live Weather & Satellite — Shkodër</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">

<style>
body {
  font-family: 'Orbitron', sans-serif;
  background: radial-gradient(circle at center, #000010 0%, #000 100%);
  color: #0ff;
  text-align: center;
}
.container-custom {
  background: rgba(0,0,0,0.6);
  padding: 20px;
  border-radius: 12px;
  box-shadow: 0 0 30px rgba(0,255,255,0.2);
  margin: 20px auto;
}
h2 { color: #0ff; text-shadow: 0 0 10px #0ff; }
#forecast {
  display: flex;
  overflow-x: auto;
  gap: 10px;
  padding: 10px;
}
.forecast-item {
  background: rgba(0,255,255,0.1);
  border: 1px solid #0ff;
  border-radius: 10px;
  padding: 10px;
  min-width: 120px;
}
  .btn-zoom {
  display: inline-block;
  padding: 12px 25px;
  font-size: 1.1rem;
  font-weight: bold;
  color: #0ff;
  background: linear-gradient(45deg, #001f33, #003366);
  border: 2px solid #0ff;
  border-radius: 12px;
  text-decoration: none;
  text-shadow: 0 0 8px #0ff;
  transition: all 0.3s ease;
  box-shadow: 0 0 20px rgba(0,255,255,0.2);
}

.btn-zoom:hover {
  color: #fff;
  background: linear-gradient(45deg, #005580, #0077aa);
  box-shadow: 0 0 30px rgba(0,255,255,0.6);
  transform: translateY(-3px);
}
</style>
</head>
<body>

<div class="container container-custom">
  <h2>Live Weather Data</h2>
  <h4>Shkodër, Albania</h4>
  <div id="weather"></div>
  <hr>
  <h3>Forecast</h3>
  <div id="forecast"></div>
</div>

<div class="container container-custom">
  <h2>Live Satellite</h2>
  <a href="https://zoom.earth/map/satellite/#view=42.068,19.512,6z" class="btn btn-zoom">
    Open Real Time View
  </a>
</div>

<audio id="beep" src="./beep2.mp3" preload="auto"></audio>

<script>
const API_KEY = "3353cd4fff2878fccffc5f6f9a4ffd8a";
const weatherBox = document.getElementById('weather');
const forecastBox = document.getElementById('forecast');
const beep = document.getElementById('beep');

// Beep on any interaction (click or scroll)
document.addEventListener('click', () => { beep.currentTime = 0; beep.play(); });

// Fetch current weather
fetch(`https://api.openweathermap.org/data/2.5/weather?q=Shkoder,AL&appid=${API_KEY}&units=metric`)
  .then(r => r.json())
  .then(data => {
    if (data.cod !== 200) {
      weatherBox.innerHTML = `<p>City not found ❌</p>`;
      return;
    }
    weatherBox.innerHTML = `
      <p><b>Temperature:</b> ${data.main.temp}°C</p>
      <p><b>Feels Like:</b> ${data.main.feels_like}°C</p>
      <p><b>Weather:</b> ${data.weather[0].description}</p>
      <p><b>Humidity:</b> ${data.main.humidity}%</p>
      <p><b>Wind Speed:</b> ${data.wind.speed} m/s</p>
    `;
  });

// Fetch 5-day forecast
fetch(`https://api.openweathermap.org/data/2.5/forecast?q=Shkoder,AL&appid=${API_KEY}&units=metric`)
  .then(r => r.json())
  .then(data => {
    if (data.cod !== "200") {
      forecastBox.innerHTML = `<p>Forecast not available ❌</p>`;
      return;
    }
    forecastBox.innerHTML = data.list.slice(0, 10).map(item => `
      <div class="forecast-item">
        <p><b>${new Date(item.dt_txt).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</b></p>
        <p>${item.main.temp}°C</p>
        <p>${item.weather[0].main}</p>
      </div>
    `).join('');
  });
</script>
</body>
</html>
